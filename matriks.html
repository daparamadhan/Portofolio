<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulator Matriks</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="flex flex-col items-center justify-center min-h-screen bg-gray-100 p-4">
    <div class="bg-white p-6 rounded-lg shadow-lg w-full max-w-md">
        <h1 class="text-xl font-bold text-center mb-4">Kalkulator Matriks</h1>
        
        <section>
            <label class="block mb-2">Ordo Matriks (Baris x Kolom):</label>
            <input type="number" id="rows" placeholder="Baris" class="border p-2 mr-2 w-20 rounded">
            <input type="number" id="cols" placeholder="Kolom" class="border p-2 w-20 rounded">
        </section>
        
        <section class="mt-4">
            <button onclick="generateMatrix('A')" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-700">Buat Matriks A</button>
            <button onclick="generateMatrix('B')" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-700 ml-2">Buat Matriks B</button>
        </section>
        
        <section id="matrixContainer" class="mt-4"></section>
        <section id="matrixContainer2" class="mt-4"></section>
        
        <section class="mt-4">
            <label class="block mb-2">Pilih Operasi:</label>
            <select id="operation" class="border p-2 rounded">
                <option value="add">Penjumlahan</option>
                <option value="subtract">Pengurangan</option>
                <option value="multiply">Perkalian</option>
                <option value="transpose">Transpose</option>
                <option value="scalar">Perkalian Skalar</option>
            </select>
            <button onclick="calculateMatrix()" id="calculateMatrixButton" class="bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-700 mt-2">Hitung</button>
        </section>
        
        <section id="result" class="mt-4 font-semibold"></section>
    </div>
    
    <script>
        function generateMatrix(type) {
            const rows = parseInt(document.getElementById('rows').value);
            const cols = parseInt(document.getElementById('cols').value);
            if (isNaN(rows) || isNaN(cols) || rows <= 0 || cols <= 0) {
                alert("Masukkan ordo matriks yang valid!");
                return;
            }
            
            let container = type === 'A' ? document.getElementById('matrixContainer') : document.getElementById('matrixContainer2');
            container.innerHTML = `<h2 class="text-center font-semibold">Matriks ${type}</h2>`;
            
            let table = createMatrixTable(rows, cols, `cell${type}`);
            container.appendChild(table);
        }
        
        function createMatrixTable(rows, cols, prefix) {
            let table = document.createElement('table');
            table.className = 'w-full border border-black mt-2';
            
            for (let i = 0; i < rows; i++) {
                let row = document.createElement('tr');
                for (let j = 0; j < cols; j++) {
                    let cell = document.createElement('td');
                    let input = document.createElement('input');
                    input.type = 'number';
                    input.className = 'w-16 p-2 border border-black text-center text-lg font-bold bg-yellow-200';
                    input.id = `${prefix}-${i}-${j}`;
                    cell.appendChild(input);
                    row.appendChild(cell);
                }
                table.appendChild(row);
            }
            return table;
        }
        
        function calculateMatrix() {
            const operation = document.getElementById('operation').value;
            if (operation === 'add') {
                addMatrix();
            } else if (operation === 'subtract') {
                subtractMatrix();
            } else if (operation === 'multiply') {
                multiplyMatrix();
            } else if (operation === 'transpose') {
                transposeMatrix();
            } else if (operation === 'scalar') {
                scalarMultiplyMatrix();
            }
        }
        
        function addMatrix() {
            const rows = parseInt(document.getElementById('rows').value);
            const cols = parseInt(document.getElementById('cols').value);
            let sumMatrix = [];
            
            for (let i = 0; i < rows; i++) {
                let row = [];
                for (let j = 0; j < cols; j++) {
                    let val1 = parseFloat(document.getElementById(`cellA-${i}-${j}`).value) || 0;
                    let val2 = parseFloat(document.getElementById(`cellB-${i}-${j}`).value) || 0;
                    row.push(val1 + val2);
                }
                sumMatrix.push(row);
            }
            displayMatrix(sumMatrix, "Hasil Penjumlahan A + B:");
        }
        
        function subtractMatrix() {
            const rows = parseInt(document.getElementById('rows').value);
            const cols = parseInt(document.getElementById('cols').value);
            let diffMatrix = [];
            
            for (let i = 0; i < rows; i++) {
                let row = [];
                for (let j = 0; j < cols; j++) {
                    let val1 = parseFloat(document.getElementById(`cellA-${i}-${j}`).value) || 0;
                    let val2 = parseFloat(document.getElementById(`cellB-${i}-${j}`).value) || 0;
                    row.push(val1 - val2);
                }
                diffMatrix.push(row);
            }
            displayMatrix(diffMatrix, "Hasil Pengurangan A - B:");
        }
    </script>
</body>
</html>
